import{j as n}from"./jsx-runtime.HWUR3tTV.js";import{r as y}from"./index.o5X6izXP.js";import{S as o}from"./LatentTextarea_module.a6f41ac3.RggZzBz9.js";function m(e){const s=e.latencyMs===void 0||e.latencyMs<0?100:e.latencyMs,l=e.showLatency===void 0?!0:e.showLatency,a=e.showMeasuredLatency===void 0?!1:e.showMeasuredLatency,[c,i]=y.useState(0),[t,u]=y.useState(0),d=f=>{const r=performance.now();for(;performance.now()-r<s;);a&&(i(c+(performance.now()-r)),u(t+1)),e.afterKeyDown&&e.afterKeyDown(f)},w=t==0?"...":`${(c/t).toFixed(3)}ms`;return n.jsxs("div",{className:o.latentTextareaDiv,children:[n.jsx("textarea",{className:o.latentTextarea,onKeyDown:d,onKeyUp:e.onKeyUp,placeholder:l?`Latency: ${s}ms`:""}),a?n.jsx("span",{className:o.measuredLatency,children:w}):null]})}export{m as default};

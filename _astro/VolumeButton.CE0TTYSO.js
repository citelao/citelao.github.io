import{j as t}from"./jsx-runtime.HWUR3tTV.js";import{r as i}from"./index.o5X6izXP.js";import{S as s}from"./VolumeButton_module.1bd15e71.COcoUNtc.js";function v(e){const l=()=>{window.speechSynthesis.pause(),window.speechSynthesis.cancel(),window.speechSynthesis.resume();const n=new SpeechSynthesisUtterance(e.text);n.voice=e.voice||null,n.rate=e.rate===void 0?1:e.rate,n.volume=e.volume===void 0?.5:e.volume,n.addEventListener("end",()=>{e.onReadCompleted&&e.onReadCompleted()}),window.speechSynthesis.speak(n),e.onReadStarted&&e.onReadStarted()};return t.jsx("button",{onClick:l,className:s.volumeButton,"aria-label":e.label,title:e.label,children:e.displayText})}function x(e){e.animate([{clipPath:"inset(0 100% 0 0)"},{clipPath:"inset(0 0% 0 0)"}],{duration:600})}function V(e){const[l,n]=i.useState(60),[w,c]=i.useState("paused"),[d,N]=i.useState(null),[r,C]=i.useState(1.5),[a,f]=i.useState(e.style??"win11"),[h,m]=i.useState(null),o=i.useRef(null),u=a==="win10"?`volume level ${l}`:`${l}, volume level`,p=a==="win10"?`volume level ${l-10}%`:`${l-10}, volume level`,j=()=>{o.current&&x(o.current),m(u),n(Math.min(100,l+5)),c("playing")},b=()=>{o.current&&x(o.current),m(p),n(Math.max(10,l-5)),c("playing")},S=()=>{c("paused")},R=()=>{f(a==="win10"?"win11":"win10")},y=a==="win10"?"'Volume' first (Win10 style)":"Percentage first (Win11 style)",g=!e.style;return t.jsxs("figure",{className:s.volumeSimulator,"aria-label":y,children:[t.jsxs("div",{className:s.volumeStatus,children:[t.jsx("pre",{className:s.volumeOutput,"aria-label":"Output",children:h?t.jsx("span",{ref:o,children:h}):t.jsx("span",{className:s.placeholder,children:u})}),t.jsx("div",{className:s.playing,children:w==="playing"?t.jsx("span",{title:"Playing",style:{cursor:"default"},"aria-label":"Playing",children:"ðŸ”Š"}):t.jsx("span",{style:{opacity:.2,cursor:"default"},title:"Not playing","aria-label":"Not playing",children:"ðŸ”ˆ"})})]}),t.jsxs("div",{className:s.buttonGroup,children:[t.jsx(v,{displayText:"-",label:"Decrease volume",voice:d,rate:r,volume:(l-5)/100,text:p,onReadStarted:b,onReadCompleted:S}),t.jsx(v,{displayText:"+",label:"Increase volume",voice:d,rate:r,volume:l/100,text:u,onReadStarted:j,onReadCompleted:S})]}),t.jsx("div",{className:s.volumeOptions,children:t.jsxs("div",{style:{display:"flex",gap:"0.2rem"},children:[y,g?t.jsx("button",{title:a==="win10"?"Switch to Win11 style":"Switch to Win10 style","aria-label":a==="win10"?"Switch to Win11 style":"Switch to Win10 style",onClick:R,children:"ðŸ”„"}):null]})})]})}export{V as default};
